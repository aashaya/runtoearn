<!--
Name         : checkin.html
Author       : Aashaya Bhattarai
Created      : 6/7/2013
-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-Content-Security-Policy" content="allow self" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge, chrome=1" />
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <title>RuntoEarn: Checkin</title>
    <link  rel="stylesheet" href="css/themes/default/jquery.mobile.structure-1.3.1.min.css"/>
    <link rel="stylesheet"  href="css/themes/default/jquery.mobile.theme-1.3.1.min.css">
    <script src="js/jquery.js"></script>
    <script src="js/jquery.mobile-1.3.1.min.js"></script>
    <link href="css/buttons.css" rel="stylesheet" type="text/css" />
    <link href="css/site.css" rel="stylesheet" type="text/css" />
    <script type='text/javascript'>//<![CDATA[
        $(window).load(function () {
            $(function () {
                navigator.geolocation.getCurrentPosition(function (pos) {
                    var lat = pos.coords.latitude;
                    var lng = pos.coords.longitude;
                    $("#lat").text(lat);
                    $("#lng").text(lng);
                    $("#lat").val(lat); // assign value to span
                    $("#lng").val(lng); // assign value to span
                var poi = "33.89342,-84.30715",
                //var poi = $("#lat").val() + "," + $("#lng").val(),
                poimg = "images/icon.png";
                console.log(poi);
                $('#map_canvas').gmap({
                    'zoom': 7
                }).bind('init', function (event, map) {
                    $('#map_canvas').gmap('addMarker', {
                        'position': poi,
                        'bounds': true
                    }).click(function () {
                        content = '<img src="' + poimg + '" style="float:left;margin-right:5px"><div>Title<div style="font-weight:normal;font-size:x-small">Text details</div></div>';
                        $('#map_canvas').gmap('openInfoWindow', {
                            'content': content
                        }, this);
                    });
                });
            });
        });
        });//]]>  
    </script>
</head>
<body>
<link href="css/themes/default/jquery.mobile-1.3.1.min.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
<script src="js/jquery.js" type="text/javascript"></script>
<script src="js/jquery.mobile-1.3.1.min.js" type="text/javascript"></script>
<script type="text/javascript" src="http://jquery-ui-map.googlecode.com/svn/trunk/ui/min/jquery.ui.map.full.min.js"></script>
<script type="text/javascript" src="http://jquery-ui-map.googlecode.com/svn/trunk/ui/jquery.ui.map.extensions.js"></script>
    <div data-role="page" id="page" data-theme="custom" class="page">
        <div data-role="header" data-theme="b" class="header">
            <table width="100%" border="0" cellpadding="3" cellspacing="0">
                <tr>
                    <td width="28%" align="left">
                        <a id="backCheckin" data-transition="none" class="btnborder">
                        <span class="r2e-arrow-left" title="Back" class="btnborder"></span></a>&nbsp;
                        <a href="index.html"  data-transition="none" class="button home custom" data-transition="none"
                                style="padding: 6px; margin-left: 3.7em;"><span></span>&nbsp;&nbsp;&nbsp;&nbsp;</a>
                    </td>
                    <td width="50%" align="center">
                        <span class="pageheader">
                            Check In</span>
                    </td>
                    <td width="22%" align="right">
                        <a href="#popupMenu" data-rel="popup" class="button menu custom" data-transition="none"
                                style="padding: 6px; margin-left: 3.7em;"><span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
                    </td>
                </tr>
            </table>
        </div>
        <div data-role="popup" id="popupMenu" data-overlay-theme="b">
            <ul data-role="listview" data-inset="true" style="width: 180px;" data-theme="b">
                <li data-icon="false" data-theme="b"><a href="index.html"  data-transition="none">Home</a></li>
                <li data-icon="false" data-theme="b"><a href="#"  data-transition="none">FAQ</a></li>
                <li data-icon="false" data-theme="b"><a href="#"  data-transition="none">Contact</a></li>
                <li data-icon="false" data-theme="b"><a href="#"  data-transition="none">Privacy and Terms</a></li>
                <li data-icon="false" data-theme="b"><a href="#"  data-transition="none">About</a></li>
                <li data-icon="false" data-theme="b"><a href="#"  data-transition="none">Log out</a></li>
            </ul>
        </div>
        <div data-role="content">
            <span> Latitude : </span> <span id="lat"></span> <br />
            <span> Longitude : </span> <span id="lng"></span> <br />
          <a data-role=button id="btnCheckin" data-theme="b" data-inline="true" data-mini="true">Check In</a>
          <div id="map_canvas" style="height:300px; width:100%"></div>
        </div>
        <script>
            $("#backCheckin").click(function () {
                parent.history.back();
                return false;
            });
        </script>
    <script src="js/checkin.js" type="text/javascript"></script>
    <div data-role="footer" data-theme="b" align="center" data-position="fixed" style="height:30px">
            <span class="footer">&copy; RuntoEarn | <a href="#" class="footer">Full Site</a></span>
        </div>
    </div>
</body>
</html>
